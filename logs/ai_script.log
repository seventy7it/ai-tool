/home/seventy7llm/my-docs/agent_with_tools.py:27: LangChainDeprecationWarning: LangChain agents will continue to be supported, but it is recommended for new use cases to be built with LangGraph. LangGraph offers a more flexible and full-featured framework for building agents, including support for tool-calling, persistence of state, and human-in-the-loop workflows. For details, refer to the `LangGraph documentation <https://langchain-ai.github.io/langgraph/>`_ as well as guides for `Migrating from AgentExecutor <https://python.langchain.com/docs/how_to/migrate_agent/>`_ and LangGraph's `Pre-built ReAct agent <https://langchain-ai.github.io/langgraph/how-tos/create-react-agent/>`_.
  agent = initialize_agent(
ðŸ’¬ Enter your search prompt: Traceback (most recent call last):
  File "/home/seventy7llm/my-docs/agent_with_tools.py", line 36, in <module>
    query = input("ðŸ’¬ Enter your search prompt: ")
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
EOFError: EOF when reading a line
/home/seventy7llm/my-docs/agent_with_tools.py:27: LangChainDeprecationWarning: LangChain agents will continue to be supported, but it is recommended for new use cases to be built with LangGraph. LangGraph offers a more flexible and full-featured framework for building agents, including support for tool-calling, persistence of state, and human-in-the-loop workflows. For details, refer to the `LangGraph documentation <https://langchain-ai.github.io/langgraph/>`_ as well as guides for `Migrating from AgentExecutor <https://python.langchain.com/docs/how_to/migrate_agent/>`_ and LangGraph's `Pre-built ReAct agent <https://langchain-ai.github.io/langgraph/how-tos/create-react-agent/>`_.
  agent = initialize_agent(
/home/seventy7llm/my-docs/agent_with_tools.py:44: LangChainDeprecationWarning: The method `Chain.run` was deprecated in langchain 0.1.0 and will be removed in 1.0. Use :meth:`~invoke` instead.
  result = agent.run(query)


[1m> Entering new AgentExecutor chain...[0m
Traceback (most recent call last):
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 111] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/seventy7llm/my-docs/agent_with_tools.py", line 44, in <module>
    result = agent.run(query)
             ^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain_core/_api/deprecation.py", line 188, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/chains/base.py", line 606, in run
    return self(args[0], callbacks=callbacks, tags=tags, metadata=metadata)[
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain_core/_api/deprecation.py", line 188, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/chains/base.py", line 389, in __call__
    return self.invoke(
           ^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/chains/base.py", line 170, in invoke
    raise e
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/chains/base.py", line 160, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/agents/agent.py", line 1624, in _call
    next_step_output = self._take_next_step(
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/agents/agent.py", line 1330, in _take_next_step
    [
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/agents/agent.py", line 1358, in _iter_next_step
    output = self._action_agent.plan(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/agents/agent.py", line 804, in plan
    full_output = self.llm_chain.predict(callbacks=callbacks, **full_inputs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/chains/llm.py", line 318, in predict
    return self(kwargs, callbacks=callbacks)[self.output_key]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain_core/_api/deprecation.py", line 188, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/chains/base.py", line 389, in __call__
    return self.invoke(
           ^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/chains/base.py", line 170, in invoke
    raise e
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/chains/base.py", line 160, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/chains/llm.py", line 126, in _call
    response = self.generate([inputs], run_manager=run_manager)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain/chains/llm.py", line 138, in generate
    return self.llm.generate_prompt(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 894, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 719, in generate
    self._generate_with_cache(
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 960, in _generate_with_cache
    result = self._generate(
             ^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain_ollama/chat_models.py", line 705, in _generate
    final_chunk = self._chat_stream_with_aggregation(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain_ollama/chat_models.py", line 642, in _chat_stream_with_aggregation
    for chunk in self._iterate_over_stream(messages, stop, **kwargs):
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain_ollama/chat_models.py", line 727, in _iterate_over_stream
    for stream_resp in self._create_chat_stream(messages, stop, **kwargs):
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/langchain_ollama/chat_models.py", line 629, in _create_chat_stream
    yield from self._client.chat(**chat_params)
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/ollama/_client.py", line 163, in inner
    with self._client.stream(*args, **kwargs) as r:
  File "/usr/lib/python3.12/contextlib.py", line 137, in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
               ^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/seventy7llm/my-docs/myenv/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 111] Connection refused
/home/seventy7llm/my-docs/agent_with_tools.py:24: LangChainDeprecationWarning: LangChain agents will continue to be supported, but it is recommended for new use cases to be built with LangGraph. LangGraph offers a more flexible and full-featured framework for building agents, including support for tool-calling, persistence of state, and human-in-the-loop workflows. For details, refer to the `LangGraph documentation <https://langchain-ai.github.io/langgraph/>`_ as well as guides for `Migrating from AgentExecutor <https://python.langchain.com/docs/how_to/migrate_agent/>`_ and LangGraph's `Pre-built ReAct agent <https://langchain-ai.github.io/langgraph/how-tos/create-react-agent/>`_.
  agent_executor = initialize_agent(
